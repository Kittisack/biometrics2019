---
title: "R Markdown Workshop"
subtitle: "Dynamic Documents with `bookdown` <img src='images/bookdown.png' height = '50px'>"
author: "Emi Tanaka"
email: "dr.emi.tanaka@gmail.com"
date: "1st Dec 2019 @ Biometrics by the Botanic Gardens | Adelaide, Australia"
length: "50 minutes"
color_theme: "yellow"
pdflink: "session2.pdf"
titleslide_bgimg: "images/bg1.jpg"
output:
  xaringan::moon_reader:
    css:
      - ninjutsu 
      - "assets/animate.css"
      - "assets/cssgrid.css"
      - "assets/custom.css"
      - "assets/fira-code.css"
      - "assets/boxes.css"
    self_contained: false 
    seal: false 
    chakra: 'libs/remark-latest.min.js'
    beforeInit: "assets/custom.js"
    lib_dir: libs
    includes:
      in_header: "assets/custom.html"
      # before_body: 
      after_body: "assets/remarkjs_extended.html"
      # includes
    mathjax: "assets/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
    nature:
      highlightStyle: googlecode
      highlightLanguage: r 
      highlightLines: true
      highlightSpans: false 
      countIncrementalSlides: false
      slideNumberFormat: '%current%/%total%'
      navigation:
        scroll: false 
        touch: true
        click: false
      ratio: '16:9'
---

```{r external, child="scripts/setup.Rmd", include=FALSE}
```
```{r titleslide, child="scripts/titleslide.Rmd"}
```


---

class: center middle


.font_large[`r emo::ji("search")` Open and inspect the file]

.font_large[`demo-header.Rmd`]

---

# Cross Reference


::: grid 

::: item 

* When you make a header via Rmd
```markdown
# Some Header
```
 an .red[id is created automatically].
* The id is created by replacing .blue[space with `-`] and making it .blue[all lower case].
* Now you can link to this header by `[some text](#some-header)`.
* Cross references work for both pdf and html outputs.

::: 

::: item 

<center>
<iframe src="exercises/demo-header.html" width = "90%", height = "500px"></iframe>
</center>

:::

:::


---


# Direct Reference for `html`

<br>

::: paddings

* For `html` output, you can also give a link directly to the relevant section
* E.g. open `demo-header.html` in a web browser
* Append say `#chicken-data` to the url. It should look like 
.center[
`demo-header.html#chicken-data`
]
* It should have taken you to straight to the corresponding header `r emo::ji("exercise")`

:::

---


# User-defined id


<br>

::: paddings 

* You can define your own id by appending `{#your-id}`.

```markdown
# Some header {#header1}
```
* Now you can link to this header with the id `header1`.
* Note there should be no space in the id name!

::: 

---


class: center middle


.font_large[`r emo::ji("search")` Open and inspect the file]

.font_large[`demo.bib`]



---

class: font_smaller

# Bibliography

* BibTeX citation style format is used to store references in `.bib` files.
* Remember that you can get most BibTeX citation for R packages `citation` function. (Scroll below to see the BibTeX citation).

.scroll-350[
```{r}
citation("xaringan")
```
]

---

class: center middle


.font_large[`r emo::ji("search")` Open, inspect and knit the file]

.font_large[`demo-citation.Rmd`]

---

# Citations

<br>

::: paddings

* You can include BibTeX by specifying the `bib` file at YAML as:

```markdown
bibliography: bibliography.bib
```


[@bibtex-key] <i class="fas fa-arrow-right"></i> (Author et al. 2019)

or 

@bibtex-key <i class="fas fa-arrow-right"></i> Author et al. 2019

* See `demo-citation.Rmd`


:::

---

class: font_small


# Figure References

::: paddings 

* Support for figure references are included for output format type `bookdown::pdf_document2` for pdf or `bookdown::html_document2` for html.

````markdown
`r ''````{r plot1, fig.cap = "Caption"}
ggplot(cars, aes(dist, speed)) + geom_point()
```
````

* Above figure number can be referenced as .red[`\@ref(fig:plot1)`]

* The reference label has the prefix `fig:` before the chunk label.




:::

---

class: font_small


# Table References

::: paddings 

* Support for table references are also included for output format type `bookdown::pdf_document2` for pdf or `bookdown::html_document2` for html.

````markdown
`r ''````{r table1}
knitr::kable(cars, booktabs = TRUE, caption = "Caption")
```
````

* Above table number can be referenced as .red[`\@ref(tab:table1)`]

* The reference label has the prefix `tab:` before the chunk label.

:::


---

class: font_small

# Markdown for Captions

::: paddings

````markdown
`r ''````{r plot1, fig.cap = "(ref:label)"}
ggplot(cars, aes(dist, speed)) + geom_point()
```
````

* Then the caption can be entered in a separate paragraph with empty lines above and below it

```markdown

(ref:label) This is the *caption* with **markdown**.

```

* You can subsitute `label` with another unique label composed of alphanumeric characters, :, -, or /
* This caption supports markdown syntax
* This is great for long captions
* It also works for tables!


:::


---


class: center middle


.font_large[`r emo::ji("wrench")` Open and work through]

.font_large[`challenge-08-references.Rmd`]

`r countdown::countdown(5, font_size = "1em")`

---


```{r endslide, child="scripts/endslide.Rmd"}
```
